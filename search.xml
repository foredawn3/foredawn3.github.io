<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å‰ç«¯å‘è¯·æ±‚çš„å‡ ç§æ–¹å¼</title>
      <link href="/2024/10/20/%E5%89%8D%E7%AB%AF%E8%AF%B7%E6%B1%82/"/>
      <url>/2024/10/20/%E5%89%8D%E7%AB%AF%E8%AF%B7%E6%B1%82/</url>
      
        <content type="html"><![CDATA[<h1 id="å‘è¯·æ±‚çš„ä¸‰ç§æ–¹å¼"><a href="#å‘è¯·æ±‚çš„ä¸‰ç§æ–¹å¼" class="headerlink" title="å‘è¯·æ±‚çš„ä¸‰ç§æ–¹å¼"></a>å‘è¯·æ±‚çš„ä¸‰ç§æ–¹å¼</h1><h2 id="1-Ajax"><a href="#1-Ajax" class="headerlink" title="1.Ajax"></a>1.Ajax</h2><h3 id="ä»‹ç»ï¼š"><a href="#ä»‹ç»ï¼š" class="headerlink" title="ä»‹ç»ï¼š"></a>ä»‹ç»ï¼š</h3><p><strong>AJAX</strong>ï¼ˆAsynchronous <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/JavaScript">JavaScript</a> And <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/XML">XML</a>ï¼‰æ˜¯ä¸€ç§åœ¨ Web åº”ç”¨ä¸­é€šè¿‡å¼‚æ­¥å‘é€ HTTP è¯·æ±‚å‘æœåŠ¡å™¨è·å–å†…å®¹ï¼Œå¹¶ä½¿ç”¨è¿™äº›æ–°å†…å®¹æ›´æ–°é¡µé¢ä¸­ç›¸å…³çš„éƒ¨åˆ†ï¼Œè€Œæ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢çš„ Web å¼€å‘æŠ€æœ¯ã€‚è¿™å¯ä»¥è®©ç½‘é¡µæ›´å…·æœ‰å“åº”æ€§ï¼Œå› ä¸ºåªè¯·æ±‚äº†éœ€è¦æ›´æ–°çš„éƒ¨åˆ†ã€‚</p><p>ä¸€å¼€å§‹çš„æ—¶å€™ AJAX é€šè¿‡ä½¿ç”¨ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest"><code>XMLHttpRequest</code></a> æ¥å£å®ç°ï¼Œä½†æ˜¯ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/fetch"><code>fetch()</code></a> API æ›´é€‚åˆç”¨äºå¼€å‘ç°ä»£</p><p><code>XMLHttpRequest</code>ï¼ˆXHRï¼‰å¯¹è±¡ç”¨äºä¸æœåŠ¡å™¨äº¤äº’ã€‚é€šè¿‡ XMLHttpRequest å¯ä»¥åœ¨ä¸åˆ·æ–°é¡µé¢çš„æƒ…å†µä¸‹è¯·æ±‚ç‰¹å®š URLï¼Œè·å–æ•°æ®ã€‚è¿™å…è®¸ç½‘é¡µåœ¨ä¸å½±å“ç”¨æˆ·æ“ä½œçš„æƒ…å†µä¸‹ï¼Œæ›´æ–°é¡µé¢çš„å±€éƒ¨å†…å®¹ã€‚<code>XMLHttpRequest</code> åœ¨ <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/AJAX">AJAX</a> ç¼–ç¨‹ä¸­è¢«å¤§é‡ä½¿ç”¨ã€‚</p><h3 id="ä»£ç å®ç°ï¼š"><a href="#ä»£ç å®ç°ï¼š" class="headerlink" title="ä»£ç å®ç°ï¼š"></a>ä»£ç å®ç°ï¼š</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> api1 = <span class="string">&quot;https://yapi.pro/mock/556287/user&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> api2 = <span class="string">&quot;https://yapi.pro/mock/556287/msg&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> ajaxGet = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.ajaxGet&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> ajaxPost = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.ajaxPost&quot;</span>);</span><br><span class="line"></span><br><span class="line">ajaxGet.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">  xhr.<span class="title function_">open</span>(<span class="string">&quot;get&quot;</span>, api1, <span class="literal">true</span>);</span><br><span class="line">  xhr.<span class="property">onreadystatechange</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="title class_">XMLHttpRequest</span>.<span class="property">DONE</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (xhr.<span class="property">status</span> == <span class="number">200</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ajaxGetè¯·æ±‚æˆåŠŸ&quot;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">responseText</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ajaxGetè¯·æ±‚å¤±è´¥&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  xhr.<span class="title function_">send</span>();</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// ajaxPost</span></span><br><span class="line">ajaxPost.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">  xhr.<span class="title function_">open</span>(<span class="string">&quot;post&quot;</span>, api2, <span class="literal">true</span>);</span><br><span class="line">  xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&quot;Content-type&quot;</span>, <span class="string">&quot;application/x-www-form-urlencoded&quot;</span>);</span><br><span class="line">  xhr.<span class="property">onreadystatechange</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="title class_">XMLHttpRequest</span>.<span class="property">DONE</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (xhr.<span class="property">status</span> === <span class="number">200</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ajaxPostè¯·æ±‚æˆåŠŸ&quot;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">responseText</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ajaxPostè¯·æ±‚å¤±è´¥&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  xhr.<span class="title function_">send</span>(<span class="string">&quot;id=1&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest">å‚è€ƒé“¾æ¥ï¼šXMLHttpRequest - Web API | MDN</a></p></blockquote><h2 id="2-fetch"><a href="#2-fetch" class="headerlink" title="2.fetch"></a>2.fetch</h2><h3 id="ä»‹ç»ï¼š-1"><a href="#ä»‹ç»ï¼š-1" class="headerlink" title="ä»‹ç»ï¼š"></a>ä»‹ç»ï¼š</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window"><code>Window</code></a> æ¥å£çš„ <strong>fetch()</strong> æ–¹æ³•ç”¨äºå‘èµ·è·å–èµ„æºçš„è¯·æ±‚ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªä¼šåœ¨è¯·æ±‚å“åº”åå…‘ç°çš„ promiseã€‚</p><p>è¯¥ promise ä¼šå…‘ç°ä¸€ä¸ªè¡¨ç¤ºè¯·æ±‚å“åº”çš„ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Response"><code>Response</code></a> å¯¹è±¡ã€‚</p><p>å½“è¯·æ±‚å¤±è´¥ï¼ˆä¾‹å¦‚ï¼Œå› ä¸ºè¯·æ±‚ URL çš„æ ¼å¼é”™è¯¯æˆ–ç½‘ç»œé”™è¯¯ï¼‰æ—¶ï¼Œ<code>fetch()</code> çš„ promise æ‰ä¼šè¢«æ‹’ç»ã€‚<code>fetch()</code> çš„ promise <em>ä¸ä¼š</em>å› ä¸ºæœåŠ¡å™¨å“åº”è¡¨ç¤ºé”™è¯¯çš„ HTTP çŠ¶æ€ç ï¼ˆ<code>404</code>ã€<code>504</code>ï¼Œç­‰ï¼‰è€Œè¢«æ‹’ç»ã€‚å› æ­¤ï¼Œ<code>then()</code> å¤„ç†å™¨å¿…é¡»æ£€æŸ¥ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Response/ok"><code>Response.ok</code></a> å’Œ&#x2F;æˆ– <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Response/status"><code>Response.status</code></a> å±æ€§ã€‚</p><h3 id="ä»£ç å®ç°ï¼š-1"><a href="#ä»£ç å®ç°ï¼š-1" class="headerlink" title="ä»£ç å®ç°ï¼š"></a>ä»£ç å®ç°ï¼š</h3><h4 id="get-è¯·æ±‚ï¼š"><a href="#get-è¯·æ±‚ï¼š" class="headerlink" title="get è¯·æ±‚ï¼š"></a>get è¯·æ±‚ï¼š</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">promiseæ–¹å¼ï¼š</span><br><span class="line"></span><br><span class="line">      fetchGet.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,  <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">fetch</span>(api1)</span><br><span class="line">          .<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// é¦–å…ˆæ£€æŸ¥å“åº”çŠ¶æ€</span></span><br><span class="line">            <span class="keyword">if</span> (!response.<span class="property">ok</span>) &#123;</span><br><span class="line">              <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(</span><br><span class="line">                <span class="string">&quot;Network response was not ok &quot;</span> + response.<span class="property">statusText</span></span><br><span class="line">              );</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// è§£æJSONæ ¼å¼çš„å“åº”ä½“</span></span><br><span class="line">            <span class="keyword">return</span> response.<span class="title function_">json</span>();</span><br><span class="line">          &#125;)</span><br><span class="line">          .<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// å¤„ç†è·å–åˆ°çš„æ•°æ®</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;fetchGetè¯·æ±‚æˆåŠŸ&quot;</span>);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">          &#125;)</span><br><span class="line">          .<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// å¤„ç†è¯·æ±‚è¿‡ç¨‹ä¸­å‡ºç°çš„ä»»ä½•é”™è¯¯</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;fetchGetè¯·æ±‚å¤±è´¥&quot;</span>);</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> è¯­æ³•æ”¹å†™ï¼š</span><br><span class="line">     fetchGet.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="title function_">async</span> () =&gt; &#123;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">         <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">fetch</span>(api1);</span><br><span class="line">         <span class="keyword">let</span> data = <span class="keyword">await</span> result.<span class="title function_">json</span>();</span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;fetchGetè¯·æ±‚æˆåŠŸ&quot;</span>);</span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">       &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;fetchGetè¯·æ±‚å¤±è´¥&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="post-è¯·æ±‚ï¼š"><a href="#post-è¯·æ±‚ï¼š" class="headerlink" title="post è¯·æ±‚ï¼š"></a>post è¯·æ±‚ï¼š</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">promiseæ–¹å¼ï¼š</span><br><span class="line"></span><br><span class="line">      fetchPost.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">fetch</span>(api2, &#123;</span><br><span class="line">          <span class="attr">method</span>: <span class="string">&quot;POST&quot;</span>,</span><br><span class="line">          <span class="attr">headers</span>: &#123;</span><br><span class="line">            <span class="string">&quot;Content-type&quot;</span>: <span class="string">&quot;application/x-www-from-urlencoded&quot;</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="attr">body</span>: <span class="string">&quot;id=1&quot;</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">          .<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> response.<span class="title function_">json</span>();</span><br><span class="line">          &#125;)</span><br><span class="line">          .<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;fetchPostè¯·æ±‚æˆåŠŸ&quot;</span>);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> è¯­æ³•æ”¹å†™ï¼š</span><br><span class="line"></span><br><span class="line">     fetchPost.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="title function_">async</span> () =&gt; &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">         <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">fetch</span>(api2, &#123;</span><br><span class="line">           <span class="attr">method</span>: <span class="string">&quot;POST&quot;</span>,</span><br><span class="line">           <span class="attr">headers</span>: &#123;</span><br><span class="line">             <span class="string">&quot;Content-type&quot;</span>: <span class="string">&quot;application/x-www-from-urlencoded&quot;</span>,</span><br><span class="line">           &#125;,</span><br><span class="line">           <span class="attr">body</span>: <span class="string">&quot;id=1&quot;</span>,</span><br><span class="line">         &#125;);</span><br><span class="line">         <span class="keyword">let</span> data = <span class="keyword">await</span> result.<span class="title function_">json</span>();</span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;fetchPostè¯·æ±‚æˆåŠŸ&quot;</span>);</span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">       &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;fetchPostè¯·æ±‚å¤±è´¥&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//   fetchPost</span></span><br><span class="line">fetchPost.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="title function_">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="comment">// try &#123;</span></span><br><span class="line">  <span class="comment">//   let result = await fetch(api2, &#123;</span></span><br><span class="line">  <span class="comment">//     method: &quot;POST&quot;,</span></span><br><span class="line">  <span class="comment">//     headers: &#123;</span></span><br><span class="line">  <span class="comment">//       &quot;Content-type&quot;: &quot;application/x-www-from-urlencoded&quot;,</span></span><br><span class="line">  <span class="comment">//     &#125;,</span></span><br><span class="line">  <span class="comment">//     body: &quot;id=1&quot;,</span></span><br><span class="line">  <span class="comment">//   &#125;);</span></span><br><span class="line">  <span class="comment">//   let data = await result.json();</span></span><br><span class="line">  <span class="comment">//   console.log(&quot;fetchPostè¯·æ±‚æˆåŠŸ&quot;);</span></span><br><span class="line">  <span class="comment">//   console.log(data);</span></span><br><span class="line">  <span class="comment">// &#125; catch (error) &#123;</span></span><br><span class="line">  <span class="comment">//   console.log(&quot;fetchPostè¯·æ±‚å¤±è´¥&quot;);</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line">  <span class="title function_">fetch</span>(api2, &#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&quot;POST&quot;</span>,</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">      <span class="string">&quot;Content-type&quot;</span>: <span class="string">&quot;application/x-www-from-urlencoded&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">body</span>: <span class="string">&quot;id=1&quot;</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> response.<span class="title function_">json</span>();</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;fetchPostè¯·æ±‚æˆåŠŸ&quot;</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://www.ruanyifeng.com/blog/2020/12/fetch-tutorial.html">å‚è€ƒé“¾æ¥ï¼šFetch API æ•™ç¨‹ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—</a></p></blockquote><h2 id="3-axios"><a href="#3-axios" class="headerlink" title="3.axios"></a>3.axios</h2><h3 id="ä»‹ç»ï¼š-2"><a href="#ä»‹ç»ï¼š-2" class="headerlink" title="ä»‹ç»ï¼š"></a>ä»‹ç»ï¼š</h3><p>Axios æ˜¯ä¸€ä¸ªåŸºäº <em>promise</em> ç½‘ç»œè¯·æ±‚åº“ï¼Œä½œç”¨äº<a href="https://nodejs.org/"><code>node.js</code></a> å’Œæµè§ˆå™¨ä¸­ã€‚ å®ƒæ˜¯ <em>isomorphic</em> çš„(å³åŒä¸€å¥—ä»£ç å¯ä»¥è¿è¡Œåœ¨æµè§ˆå™¨å’Œ node.js ä¸­)ã€‚åœ¨æœåŠ¡ç«¯å®ƒä½¿ç”¨åŸç”Ÿ node.js <code>http</code> æ¨¡å—, è€Œåœ¨å®¢æˆ·ç«¯ (æµè§ˆç«¯) åˆ™ä½¿ç”¨ XMLHttpRequestsã€‚</p><h3 id="ä½¿ç”¨æ–¹å¼ï¼š"><a href="#ä½¿ç”¨æ–¹å¼ï¼š" class="headerlink" title="ä½¿ç”¨æ–¹å¼ï¼š"></a>ä½¿ç”¨æ–¹å¼ï¼š</h3><p>ç”±äº Axios æ˜¯ä¸€ä¸ªåº“ï¼Œæ‰€ä»¥ä½¿ç”¨éœ€è¦å…ˆå®‰è£…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install axios</span><br></pre></td></tr></table></figure><p>æˆ–è€…ä½¿ç”¨ cdn</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ä½¿ç”¨ jsDelivr <span class="attr">CDN</span>:</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">ä½¿ç”¨ unpkg <span class="attr">CDN</span>:</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/axios/dist/axios.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="ä»£ç å®ç°ï¼š-2"><a href="#ä»£ç å®ç°ï¼š-2" class="headerlink" title="ä»£ç å®ç°ï¼š"></a>ä»£ç å®ç°ï¼š</h3><h4 id="get-è¯·æ±‚ï¼š-1"><a href="#get-è¯·æ±‚ï¼š-1" class="headerlink" title="get è¯·æ±‚ï¼š"></a>get è¯·æ±‚ï¼š</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//   axiosGet</span></span><br><span class="line">axiosGet.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  axios</span><br><span class="line">    .<span class="title function_">get</span>(api1)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;axiosGetè¯·æ±‚æˆåŠŸ&quot;</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(response.<span class="property">data</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;axiosGetè¯·æ±‚å¤±è´¥&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="post-è¯·æ±‚ï¼š-1"><a href="#post-è¯·æ±‚ï¼š-1" class="headerlink" title="post è¯·æ±‚ï¼š"></a>post è¯·æ±‚ï¼š</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">promiseæ–¹å¼ï¼š</span><br><span class="line"></span><br><span class="line">      axiosPost.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        axios</span><br><span class="line">          .<span class="title function_">post</span>(</span><br><span class="line">            api2,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="number">1</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">headers</span>: &#123; <span class="string">&quot;Content-type&quot;</span>: <span class="string">&quot;application/x-www-from-urlencoded&quot;</span> &#125; &#125;</span><br><span class="line">          )</span><br><span class="line">          .<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;axiosPostè¯·æ±‚æˆåŠŸ&quot;</span>);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(response.<span class="property">data</span>);</span><br><span class="line">          &#125;)</span><br><span class="line">          .<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;axiosPostè¯·æ±‚å¤±è´¥&quot;</span>);</span><br><span class="line">          &#125;);</span><br><span class="line"></span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> è¯­æ³•æ”¹å†™ï¼š</span><br><span class="line"></span><br><span class="line">     axiosPost.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="title function_">async</span> () =&gt; &#123;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">         <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123;</span><br><span class="line">           <span class="attr">method</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">           <span class="attr">url</span>: <span class="string">&quot;https://yapi.pro/mock/556287/msg&quot;</span>,</span><br><span class="line">           <span class="attr">data</span>: &#123;</span><br><span class="line">             <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">           &#125;,</span><br><span class="line">           <span class="attr">headers</span>: &#123;</span><br><span class="line">             <span class="string">&quot;Content-type&quot;</span>: <span class="string">&quot;application/x-www-from-urlencoded&quot;</span>,</span><br><span class="line">           &#125;,</span><br><span class="line">         &#125;);</span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;axiosPostè¯·æ±‚æˆåŠŸ&quot;</span>);</span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(result.<span class="property">data</span>);</span><br><span class="line">       &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;axiosPostè¯·æ±‚å¤±è´¥&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2024/07/20/hello-world/"/>
      <url>/2024/07/20/hello-world/</url>
      
        <content type="html"><![CDATA[<p>æ¬¢è¿æ¥åˆ° ç®€è¨€çš„åšå®¢ï¼è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> test1 </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>å…³äº</title>
      <link href="/about/index.html"/>
      <url>/about/index.html</url>
      
        <content type="html"><![CDATA[<h4 id="æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼æˆ‘å«ç®€è¨€ã€‚è¿™ä¸ªåšå®¢æ˜¯ä¸ºäº†è®°å½•æˆ‘çš„ç”Ÿæ´»-æ€è€ƒ-ğŸ¤”ï¼Œå¹¶ä¸å„ä½æ—…è¡Œè€…ä¸€èµ·äº¤æµ-æ¢è®¨-å­¦ä¹ ã€‚å¸Œæœ›æˆ‘çš„åšå®¢èƒ½å¸¦ç»™ä½ ä¸€äº›æœ‰ç›Šçš„ä¿¡æ¯ã€‚æœŸå¾…ä¸ä½ ä¸€èµ·æ¢ç´¢-åˆ†äº«-æˆé•¿ï¼Œæ¬¢è¿ä½ å…³æ³¨æˆ‘ï¼Œå¹¶ç•™ä¸‹ä½ çš„è¯„è®ºï¼"><a href="#æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼æˆ‘å«ç®€è¨€ã€‚è¿™ä¸ªåšå®¢æ˜¯ä¸ºäº†è®°å½•æˆ‘çš„ç”Ÿæ´»-æ€è€ƒ-ğŸ¤”ï¼Œå¹¶ä¸å„ä½æ—…è¡Œè€…ä¸€èµ·äº¤æµ-æ¢è®¨-å­¦ä¹ ã€‚å¸Œæœ›æˆ‘çš„åšå®¢èƒ½å¸¦ç»™ä½ ä¸€äº›æœ‰ç›Šçš„ä¿¡æ¯ã€‚æœŸå¾…ä¸ä½ ä¸€èµ·æ¢ç´¢-åˆ†äº«-æˆé•¿ï¼Œæ¬¢è¿ä½ å…³æ³¨æˆ‘ï¼Œå¹¶ç•™ä¸‹ä½ çš„è¯„è®ºï¼" class="headerlink" title="æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼æˆ‘å«ç®€è¨€ã€‚è¿™ä¸ªåšå®¢æ˜¯ä¸ºäº†è®°å½•æˆ‘çš„ç”Ÿæ´»&#x2F;æ€è€ƒ ğŸ¤”ï¼Œå¹¶ä¸å„ä½æ—…è¡Œè€…ä¸€èµ·äº¤æµ&#x2F;æ¢è®¨&#x2F;å­¦ä¹ ã€‚å¸Œæœ›æˆ‘çš„åšå®¢èƒ½å¸¦ç»™ä½ ä¸€äº›æœ‰ç›Šçš„ä¿¡æ¯ã€‚æœŸå¾…ä¸ä½ ä¸€èµ·æ¢ç´¢&#x2F;åˆ†äº«&#x2F;æˆé•¿ï¼Œæ¬¢è¿ä½ å…³æ³¨æˆ‘ï¼Œå¹¶ç•™ä¸‹ä½ çš„è¯„è®ºï¼"></a>æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼æˆ‘å«ç®€è¨€ã€‚è¿™ä¸ªåšå®¢æ˜¯ä¸ºäº†è®°å½•æˆ‘çš„ç”Ÿæ´»&#x2F;æ€è€ƒ ğŸ¤”ï¼Œå¹¶ä¸å„ä½æ—…è¡Œè€…ä¸€èµ·äº¤æµ&#x2F;æ¢è®¨&#x2F;å­¦ä¹ ã€‚å¸Œæœ›æˆ‘çš„åšå®¢èƒ½å¸¦ç»™ä½ ä¸€äº›æœ‰ç›Šçš„ä¿¡æ¯ã€‚æœŸå¾…ä¸ä½ ä¸€èµ·æ¢ç´¢&#x2F;åˆ†äº«&#x2F;æˆé•¿ï¼Œæ¬¢è¿ä½ å…³æ³¨æˆ‘ï¼Œå¹¶ç•™ä¸‹ä½ çš„è¯„è®ºï¼</h4>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>ç”µå½±</title>
      <link href="/movies/index.html"/>
      <url>/movies/index.html</url>
      
        <content type="html"><![CDATA[<iframe src="/videos/bigBang.mp4" width='100%' height='500px' ></iframe>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>éŸ³ä¹</title>
      <link href="/music/index.html"/>
      <url>/music/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ†ç±»</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>demo</title>
      <link href="/code/index.html"/>
      <url>/code/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>å‹é“¾</title>
      <link href="/link/index.html"/>
      <url>/link/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>ç›¸å†Œ</title>
      <link href="/photo/index.html"/>
      <url>/photo/index.html</url>
      
        <content type="html"><![CDATA[<div class="gallery-group-main"><figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://i.loli.net/2019/11/10/T7Mu8Aod3egmC4Q.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">å£çº¸</div>  <p>æ”¶è—çš„ä¸€äº›å£çº¸</p>  <a href='/photo/wallpaper'></a>  </figcaption>  </figure>  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://i.loli.net/2019/12/25/8t97aVlp4hgyBGu.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">æ¼«å¨</div>  <p>å…³äºæ¼«å¨çš„å›¾ç‰‡</p>  <a href='/photo/marvel'></a>  </figcaption>  </figure>  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://i.loli.net/2019/12/25/hOqbQ3BIwa6KWpo.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">OH MY GIRL</div>  <p>å…³äºOH MY GIRLçš„å›¾ç‰‡</p>  <a href='/photo/ohmygirl'></a>  </figcaption>  </figure>  </div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>æ ‡ç­¾</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>ç…§ç‰‡</title>
      <link href="/photo/ohmygirl/index.html"/>
      <url>/photo/ohmygirl/index.html</url>
      
        <content type="html"><![CDATA[<div class="gallery-group-main"><div class="gallery-container" data-type="data" data-button="">      <div class="gallery-data">[{"url":"https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg","alt":""}]</div>      <div class="gallery-items">      </div>    </div></div>]]></content>
      
    </entry>
    
    
  
</search>
